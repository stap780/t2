<%= search_form_for @search, url: incases_path, method: :get, html: { class: "bg-white rounded-lg shadow p-4 mb-4", data: { turbo_frame: '_top' } } do |f| %>
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    <div>
      <%= f.label :unumber_cont, t('activerecord.attributes.incase.unumber'), class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.search_field :unumber_cont, class: "w-full px-3 py-2 border border-gray-300 rounded-md" %>
    </div>

    <div>
      <%= f.label :company_id_eq, t('activerecord.attributes.incase.company_id'), class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.collection_select :company_id_eq, Company.standart.limit(20), :id, :short_title, 
          { include_blank: true }, 
          { class: "w-full px-3 py-2 border border-gray-300 rounded-md" } %>
    </div>

    <div>
      <%= f.label :incase_status_id_eq, t('activerecord.attributes.incase.incase_status_id'), class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.collection_select :incase_status_id_eq, IncaseStatus.all, :id, :title, 
          { include_blank: true }, 
          { class: "w-full px-3 py-2 border border-gray-300 rounded-md" } %>
    </div>

    <div>
      <%= f.label :incase_tip_id_eq, t('activerecord.attributes.incase.incase_tip_id'), class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.collection_select :incase_tip_id_eq, IncaseTip.all, :id, :title, 
          { include_blank: true }, 
          { class: "w-full px-3 py-2 border border-gray-300 rounded-md" } %>
    </div>

    <div>
      <%= f.label :region_eq, t('activerecord.attributes.incase.region'), class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.select :region_eq, options_for_select(Incase::REGION.map { |r| [r, r] }, params.dig(:q, :region_eq)), 
          { include_blank: true }, 
          { class: "w-full px-3 py-2 border border-gray-300 rounded-md" } %>
    </div>

    <div>
      <%= f.label :date_gteq, "Дата от", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.date_field :date_gteq, class: "w-full px-3 py-2 border border-gray-300 rounded-md" %>
    </div>

    <div>
      <%= f.label :date_lteq, "Дата до", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.date_field :date_lteq, class: "w-full px-3 py-2 border border-gray-300 rounded-md" %>
    </div>

    <div>
      <%= f.label :strah_id_eq, t('activerecord.attributes.incase.strah_id'), class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.collection_select :strah_id_eq, Company.strah.limit(20), :id, :short_title, 
          { include_blank: true }, 
          { class: "w-full px-3 py-2 border border-gray-300 rounded-md" } %>
    </div>
  </div>

  <div class="mt-4 flex justify-end space-x-2">
    <%= f.submit "Применить", class: "px-4 py-2 bg-violet-600 text-white rounded-md hover:bg-violet-700" %>
    <%= link_to "Очистить", incases_path, class: "px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300", data: { turbo_frame: '_top' } %>
  </div>
<% end %>

